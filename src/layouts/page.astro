---
import BaseLayout from "./base.astro";
import { defaultLocale, getStrings } from "../i18n/strings";
import { siteConfig } from "../config/site";

const { title = "Potato Game", description } = Astro.props;
const locale = Astro.currentLocale ?? defaultLocale;
const t = getStrings(locale);
const localizedPath = locale === defaultLocale ? "" : `/${locale}`;

const appStoreUrl = siteConfig.appStoreUrl;
const githubUrl = siteConfig.githubUrl;
const authorUrl = siteConfig.authorUrl;
const privacyPath = `${localizedPath}/privacy-policy/`;
---

<BaseLayout
	title={title}
	description={description}
	t={t}
	localizedPath={localizedPath}
	appStoreUrl={appStoreUrl}
	githubUrl={githubUrl}
	authorUrl={authorUrl}
	privacyPath={privacyPath}
>
	<section class="glass-card relative overflow-hidden rounded-3xl p-8 ring-1 ring-white/10">
		<div class="absolute -left-10 -top-10 h-36 w-36 rounded-full bg-amber-300/10 blur-3xl" aria-hidden="true" />
		<div class="absolute -bottom-12 right-6 h-40 w-40 rounded-full bg-amber-500/10 blur-3xl" aria-hidden="true" />
		<div class="relative flex flex-col gap-6 md:flex-row md:items-center md:justify-between">
			<div class="space-y-3">
				<span class="btn btn-outline text-xs uppercase tracking-[0.18em]">{t.navPrivacy}</span>
				<h1 class="text-4xl font-bold text-amber-50 md:text-5xl">{title}</h1>
				{description && <p class="max-w-3xl text-lg text-amber-100/80">{description}</p>}
			</div>
			<div class="flex flex-wrap items-center gap-3">
				<a href={appStoreUrl} rel="noreferrer" class="btn btn-primary text-base px-4 py-2">
					{t.ctaDownload}
				</a>
				<a href={githubUrl} rel="noreferrer" class="btn btn-outline text-base px-5 py-2">
					{t.ctaGithub}
				</a>
			</div>
		</div>
	</section>

	<section class="glass-card rounded-3xl p-8 ring-1 ring-white/10">
		<article class="policy-content">
			<slot />
		</article>
	</section>
</BaseLayout>
